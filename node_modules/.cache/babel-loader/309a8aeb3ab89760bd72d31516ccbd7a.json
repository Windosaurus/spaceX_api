{"ast":null,"code":"import React,{useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import Moment from'moment';import{Container,Row,ListGroup,ListGroupItem,Table,Badge}from'react-bootstrap';import{fetchAllMissions}from'../../redux/actions/missionsActions';import ErrorCard from'../ErrorCard';function MissionList(){var dispatch=useDispatch();var state=useSelector(function(state){return state.missions;});useEffect(function(){function getMissions(){dispatch(fetchAllMissions());}getMissions();},[]);function loadMissions(missions){var rocketFilter;var searchFilter;if(state.missionsType==='All'){rocketFilter='';}else{rocketFilter=state.missionsType;}if(state.missionsFilter!==undefined&&state.missionsFilter!==''){searchFilter=state.missionsFilter.toLowerCase();}else{searchFilter='';}var displayCount=0;var filteredMissions=[];for(var i=0;i<missions.length;i++){var missionRocket=missions[i].rocket;var missionType=missions[i].type.toLowerCase();var missionDetails=void 0;if(missions[i].details!==null){missionDetails=missions[i].details.toLowerCase();}else{missionDetails='';}if(missionRocket.includes(rocketFilter)&&(missionType.includes(searchFilter)||missionDetails.includes(searchFilter))){filteredMissions.push(missions[i]);displayCount+=1;}}console.log('Filtered missions',filteredMissions);return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h5\",{style:{marginLeft:'1em'}},' ',\"Available results\",' ',/*#__PURE__*/React.createElement(Badge,{variant:\"secondary\"},displayCount)),/*#__PURE__*/React.createElement(ListGroup,null,filteredMissions.map(function(mission,index){return/*#__PURE__*/React.createElement(ListGroupItem,{key:index,className:\"my-2\"},/*#__PURE__*/React.createElement(Table,{borderless:true,hover:true,size:\"sm\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{style:{fontSize:'1.1em'}},\"Rocket Name:\",mission.rocket))),/*#__PURE__*/React.createElement(\"tbody\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{style:{color:'grey',fontSize:'0.7em'}},\"Type:\",mission.type)),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{style:{fontSize:'0.7em'}},\"Details:\",mission.details)),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{style:{fontSize:'0.7em'}},\"Location:\",mission.location)),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{style:{fontSize:'0.7em'}},\"Launch Date:\",Moment(mission.date).format('L'))),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,' ',mission.link===undefined||mission.link===''?/*#__PURE__*/React.createElement(\"br\",null):/*#__PURE__*/React.createElement(\"a\",{style:{fontSize:'0.7em',fontStyle:'italic'},target:\"_blank\",href:mission.link},\"Click here to read more!\"))))));})));}return/*#__PURE__*/React.createElement(Container,{fluid:true},/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"h1\",{style:{fontSize:'2em',fontWeight:'bold'}},state.missionsType,' ',\"Missions\"),/*#__PURE__*/React.createElement(Row,null,state.loading&&/*#__PURE__*/React.createElement(\"h1\",null,\"Loading...\")),/*#__PURE__*/React.createElement(Row,null,state.missions===[]||state.missions===undefined?/*#__PURE__*/React.createElement(ErrorCard,null):loadMissions(state.missions)));}export default MissionList;","map":{"version":3,"sources":["/Users/windsorhuang/Desktop/soma-frontend-code-test-master/src/components/rocketComponents/MissionList.jsx"],"names":["React","useEffect","useDispatch","useSelector","Moment","Container","Row","ListGroup","ListGroupItem","Table","Badge","fetchAllMissions","ErrorCard","MissionList","dispatch","state","missions","getMissions","loadMissions","rocketFilter","searchFilter","missionsType","missionsFilter","undefined","toLowerCase","displayCount","filteredMissions","i","length","missionRocket","rocket","missionType","type","missionDetails","details","includes","push","console","log","marginLeft","map","mission","index","fontSize","color","location","date","format","link","fontStyle","fontWeight","loading"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Moment from 'moment';\nimport {\n  Container, Row, ListGroup, ListGroupItem, Table, Badge,\n} from 'react-bootstrap';\nimport { fetchAllMissions } from '../../redux/actions/missionsActions';\nimport ErrorCard from '../ErrorCard';\n\nfunction MissionList() {\n  const dispatch = useDispatch();\n  const state = useSelector((state) => state.missions);\n\n  useEffect(() => {\n    function getMissions() {\n      dispatch(fetchAllMissions());\n    }\n    getMissions();\n  }, []);\n\n  function loadMissions(missions) {\n    let rocketFilter;\n    let searchFilter;\n    if (state.missionsType === 'All') {\n      rocketFilter = '';\n    } else {\n      rocketFilter = state.missionsType;\n    }\n    if (state.missionsFilter !== undefined && state.missionsFilter !== '') {\n      searchFilter = state.missionsFilter.toLowerCase();\n    } else {\n      searchFilter = '';\n    }\n\n    let displayCount = 0;\n    const filteredMissions = [];\n    for (let i = 0; i < missions.length; i++) {\n      const missionRocket = missions[i].rocket;\n      const missionType = missions[i].type.toLowerCase();\n      let missionDetails;\n      if (missions[i].details !== null) {\n        missionDetails = missions[i].details.toLowerCase();\n      } else {\n        missionDetails = '';\n      }\n\n      if (missionRocket.includes(rocketFilter)\n          && (missionType.includes((searchFilter)) || missionDetails.includes(searchFilter))) {\n        filteredMissions.push(missions[i]);\n        displayCount += 1;\n      }\n    }\n\n    console.log('Filtered missions', filteredMissions);\n\n    return (\n      <div>\n        <h5 style={{ marginLeft: '1em' }}>\n          {' '}\n          Available results\n          {' '}\n          <Badge variant=\"secondary\">{displayCount}</Badge>\n        </h5>\n        <ListGroup>\n          {filteredMissions.map((mission, index) => (\n            <ListGroupItem key={index} className=\"my-2\">\n              <Table borderless hover size=\"sm\">\n                <thead>\n                  <tr>\n                    <th style={{ fontSize: '1.1em' }}>\n                      Rocket Name:\n                      {mission.rocket}\n                    </th>\n                  </tr>\n                </thead>\n                <tbody>\n                  <tr>\n                    <th style={{ color: 'grey', fontSize: '0.7em' }}>\n                      Type:\n                      {mission.type}\n                    </th>\n                  </tr>\n                  <tr>\n                    <th style={{ fontSize: '0.7em' }}>\n                      Details:\n                      {mission.details}\n                    </th>\n                  </tr>\n                  <tr>\n                    <th style={{ fontSize: '0.7em' }}>\n                      Location:\n                      {mission.location}\n                    </th>\n                  </tr>\n                  <tr>\n                    <th style={{ fontSize: '0.7em' }}>\n                      Launch Date:\n                      {Moment(mission.date).format('L')}\n                    </th>\n                  </tr>\n                  <tr>\n                    <th>\n                      {' '}\n                      {(mission.link === undefined || mission.link === '') ? <br />\n                        : (\n                          <a\n                            style={{ fontSize: '0.7em', fontStyle: 'italic' }}\n                            target=\"_blank\"\n                            href={mission.link}\n                          >\n                            Click here to read more!\n                          </a>\n                        )}\n                    </th>\n                  </tr>\n                </tbody>\n              </Table>\n            </ListGroupItem>\n          ))}\n        </ListGroup>\n      </div>\n    );\n  }\n\n  return (\n    <Container fluid>\n      <br />\n      <h1 style={{ fontSize: '2em', fontWeight: 'bold' }}>\n        {state.missionsType}\n        {' '}\n        Missions\n      </h1>\n      <Row>\n        {state.loading && <h1>Loading...</h1>}\n      </Row>\n      <Row>\n        {(state.missions === [] || state.missions === undefined) ? <ErrorCard />\n          : loadMissions(state.missions)}\n      </Row>\n    </Container>\n  );\n}\n\nexport default MissionList;\n"]},"metadata":{},"sourceType":"module"}