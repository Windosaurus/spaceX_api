{"ast":null,"code":"var _jsxFileName = \"/Users/windsorhuang/Desktop/soma-frontend-code-test-master/src/components/rocketComponents/MissionList.jsx\";\nimport React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Moment from 'moment';\nimport { Container, Row, ListGroup, ListGroupItem, Table, Badge } from 'react-bootstrap';\nimport { fetchAllMissions } from '../../redux/actions/missionsActions';\nimport ErrorCard from '../ErrorCard';\n\nfunction MissionList() {\n  const dispatch = useDispatch();\n  const state = useSelector(state => state.missions);\n  useEffect(() => {\n    function getMissions() {\n      dispatch(fetchAllMissions());\n    }\n\n    getMissions();\n  }, []);\n\n  function loadMissions(missions) {\n    let rocketFilter;\n    let searchFilter;\n\n    if (state.missionsType === 'All') {\n      rocketFilter = '';\n    } else {\n      rocketFilter = state.missionsType;\n    }\n\n    if (state.missionsFilter !== undefined && state.missionsFilter !== '') {\n      searchFilter = state.missionsFilter.toLowerCase();\n    } else {\n      searchFilter = '';\n    }\n\n    let displayCount = 0;\n    const filteredMissions = [];\n\n    for (let i = 0; i < missions.length; i++) {\n      const missionRocket = missions[i].rocket;\n      const missionType = missions[i].type.toLowerCase();\n      let missionDetails;\n\n      if (missions[i].details !== null) {\n        missionDetails = missions[i].details.toLowerCase();\n      } else {\n        missionDetails = '';\n      }\n\n      if (missionRocket.includes(rocketFilter) && (missionType.includes(searchFilter) || missionDetails.includes(searchFilter))) {\n        filteredMissions.push(missions[i]);\n        displayCount += 1;\n      }\n    }\n\n    console.log('Filtered missions', filteredMissions);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      style: {\n        marginLeft: '1em'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }\n    }, ' ', \"Available results\", ' ', /*#__PURE__*/React.createElement(Badge, {\n      variant: \"secondary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }\n    }, displayCount)), /*#__PURE__*/React.createElement(ListGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }\n    }, filteredMissions.map((mission, index) => /*#__PURE__*/React.createElement(ListGroupItem, {\n      key: index,\n      className: \"my-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Table, {\n      borderless: true,\n      hover: true,\n      size: \"sm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      style: {\n        fontSize: '1.1em'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 21\n      }\n    }, \"Rocket Name:\", mission.rocket))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      style: {\n        color: 'grey',\n        fontSize: '0.7em'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 21\n      }\n    }, \"Type:\", mission.type)), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      style: {\n        fontSize: '0.7em'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 21\n      }\n    }, \"Details:\", mission.details)), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      style: {\n        fontSize: '0.7em'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 21\n      }\n    }, \"Location:\", mission.location)), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      style: {\n        fontSize: '0.7em'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 21\n      }\n    }, \"Launch Date:\", Moment(mission.date).format('L'))), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 21\n      }\n    }, ' ', mission.link === undefined || mission.link === '' ? /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 78\n      }\n    }) : /*#__PURE__*/React.createElement(\"a\", {\n      style: {\n        fontSize: '0.7em',\n        fontStyle: 'italic'\n      },\n      target: \"_blank\",\n      href: mission.link,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 27\n      }\n    }, \"Click here to read more!\")))))))));\n  }\n\n  return /*#__PURE__*/React.createElement(Container, {\n    fluid: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"h1\", {\n    style: {\n      fontSize: '2em',\n      fontWeight: 'bold'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }\n  }, state.missionsType, ' ', \"Missions\"), /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 7\n    }\n  }, state.loading && /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 27\n    }\n  }, \"Loading...\")), /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 7\n    }\n  }, state.missions === [] || state.missions === undefined ? /*#__PURE__*/React.createElement(ErrorCard, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 68\n    }\n  }) : loadMissions(state.missions)));\n}\n\nexport default MissionList;","map":{"version":3,"sources":["/Users/windsorhuang/Desktop/soma-frontend-code-test-master/src/components/rocketComponents/MissionList.jsx"],"names":["React","useEffect","useDispatch","useSelector","Moment","Container","Row","ListGroup","ListGroupItem","Table","Badge","fetchAllMissions","ErrorCard","MissionList","dispatch","state","missions","getMissions","loadMissions","rocketFilter","searchFilter","missionsType","missionsFilter","undefined","toLowerCase","displayCount","filteredMissions","i","length","missionRocket","rocket","missionType","type","missionDetails","details","includes","push","console","log","marginLeft","map","mission","index","fontSize","color","location","date","format","link","fontStyle","fontWeight","loading"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Moment from 'moment';\nimport {\n  Container, Row, ListGroup, ListGroupItem, Table, Badge,\n} from 'react-bootstrap';\nimport { fetchAllMissions } from '../../redux/actions/missionsActions';\nimport ErrorCard from '../ErrorCard';\n\nfunction MissionList() {\n  const dispatch = useDispatch();\n  const state = useSelector((state) => state.missions);\n\n  useEffect(() => {\n    function getMissions() {\n      dispatch(fetchAllMissions());\n    }\n    getMissions();\n  }, []);\n\n  function loadMissions(missions) {\n    let rocketFilter;\n    let searchFilter;\n    if (state.missionsType === 'All') {\n      rocketFilter = '';\n    } else {\n      rocketFilter = state.missionsType;\n    }\n    if (state.missionsFilter !== undefined && state.missionsFilter !== '') {\n      searchFilter = state.missionsFilter.toLowerCase();\n    } else {\n      searchFilter = '';\n    }\n\n    let displayCount = 0;\n    const filteredMissions = [];\n    for (let i = 0; i < missions.length; i++) {\n      const missionRocket = missions[i].rocket;\n      const missionType = missions[i].type.toLowerCase();\n      let missionDetails;\n      if (missions[i].details !== null) {\n        missionDetails = missions[i].details.toLowerCase();\n      } else {\n        missionDetails = '';\n      }\n\n      if (missionRocket.includes(rocketFilter)\n          && (missionType.includes((searchFilter)) || missionDetails.includes(searchFilter))) {\n        filteredMissions.push(missions[i]);\n        displayCount += 1;\n      }\n    }\n\n    console.log('Filtered missions', filteredMissions);\n\n    return (\n      <div>\n        <h5 style={{ marginLeft: '1em' }}>\n          {' '}\n          Available results\n          {' '}\n          <Badge variant=\"secondary\">{displayCount}</Badge>\n        </h5>\n        <ListGroup>\n          {filteredMissions.map((mission, index) => (\n            <ListGroupItem key={index} className=\"my-2\">\n              <Table borderless hover size=\"sm\">\n                <thead>\n                  <tr>\n                    <th style={{ fontSize: '1.1em' }}>\n                      Rocket Name:\n                      {mission.rocket}\n                    </th>\n                  </tr>\n                </thead>\n                <tbody>\n                  <tr>\n                    <th style={{ color: 'grey', fontSize: '0.7em' }}>\n                      Type:\n                      {mission.type}\n                    </th>\n                  </tr>\n                  <tr>\n                    <th style={{ fontSize: '0.7em' }}>\n                      Details:\n                      {mission.details}\n                    </th>\n                  </tr>\n                  <tr>\n                    <th style={{ fontSize: '0.7em' }}>\n                      Location:\n                      {mission.location}\n                    </th>\n                  </tr>\n                  <tr>\n                    <th style={{ fontSize: '0.7em' }}>\n                      Launch Date:\n                      {Moment(mission.date).format('L')}\n                    </th>\n                  </tr>\n                  <tr>\n                    <th>\n                      {' '}\n                      {(mission.link === undefined || mission.link === '') ? <br />\n                        : (\n                          <a\n                            style={{ fontSize: '0.7em', fontStyle: 'italic' }}\n                            target=\"_blank\"\n                            href={mission.link}\n                          >\n                            Click here to read more!\n                          </a>\n                        )}\n                    </th>\n                  </tr>\n                </tbody>\n              </Table>\n            </ListGroupItem>\n          ))}\n        </ListGroup>\n      </div>\n    );\n  }\n\n  return (\n    <Container fluid>\n      <br />\n      <h1 style={{ fontSize: '2em', fontWeight: 'bold' }}>\n        {state.missionsType}\n        {' '}\n        Missions\n      </h1>\n      <Row>\n        {state.loading && <h1>Loading...</h1>}\n      </Row>\n      <Row>\n        {(state.missions === [] || state.missions === undefined) ? <ErrorCard />\n          : loadMissions(state.missions)}\n      </Row>\n    </Container>\n  );\n}\n\nexport default MissionList;\n"]},"metadata":{},"sourceType":"module"}