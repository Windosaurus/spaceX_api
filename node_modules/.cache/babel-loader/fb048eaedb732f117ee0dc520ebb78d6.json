{"ast":null,"code":"import _regeneratorRuntime from\"/Users/windsorhuang/Desktop/soma-frontend-code-test-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/windsorhuang/Desktop/soma-frontend-code-test-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios from'axios';import{FETCH_ROCKETS_PENDING,FETCH_ROCKETS_SUCCESS,FETCH_ROCKETS_ERROR}from'../types';export var fetchAllRockets=function fetchAllRockets(){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var response,rockets,i;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;dispatch({type:FETCH_ROCKETS_PENDING});_context.next=4;return axios.get('https://api.spacexdata.com/v3/rockets');case 4:response=_context.sent;console.log('Rocket api call: ',response.data);rockets=[];for(i=0;i<response.data.length;i++){rockets.push({name:response.data[i].rocket_name,id:response.data[i].rocket_id,img:response.data[i].flickr_images[0]});}console.log('Formatted rocket data',rockets);dispatch({type:FETCH_ROCKETS_SUCCESS,payload:rockets});_context.next=15;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](0);dispatch({type:FETCH_ROCKETS_ERROR});case 15:case\"end\":return _context.stop();}}},_callee,null,[[0,12]]);}));return function(_x){return _ref.apply(this,arguments);};}();};","map":{"version":3,"sources":["/Users/windsorhuang/Desktop/soma-frontend-code-test-master/src/redux/actions/rocketsActions.js"],"names":["axios","FETCH_ROCKETS_PENDING","FETCH_ROCKETS_SUCCESS","FETCH_ROCKETS_ERROR","fetchAllRockets","dispatch","type","get","response","console","log","data","rockets","i","length","push","name","rocket_name","id","rocket_id","img","flickr_images","payload"],"mappings":"+VAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAEA,OACEC,qBADF,CAEEC,qBAFF,CAGEC,mBAHF,KAIO,UAJP,CAMA,MAAO,IAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,kGAAM,iBAAOC,QAAP,yJAEjCA,QAAQ,CAAC,CACPC,IAAI,CAAEL,qBADC,CAAD,CAAR,CAFiC,sBAMVD,CAAAA,KAAK,CAACO,GAAN,CAAU,uCAAV,CANU,QAM3BC,QAN2B,eAOjCC,OAAO,CAACC,GAAR,CAAY,mBAAZ,CAAiCF,QAAQ,CAACG,IAA1C,EAEMC,OAT2B,CASjB,EATiB,CAUjC,IAASC,CAAT,CAAa,CAAb,CAAgBA,CAAC,CAAGL,QAAQ,CAACG,IAAT,CAAcG,MAAlC,CAA0CD,CAAC,EAA3C,CAA+C,CAC7CD,OAAO,CAACG,IAAR,CAAa,CACXC,IAAI,CAAER,QAAQ,CAACG,IAAT,CAAcE,CAAd,EAAiBI,WADZ,CAEXC,EAAE,CAAEV,QAAQ,CAACG,IAAT,CAAcE,CAAd,EAAiBM,SAFV,CAGXC,GAAG,CAAEZ,QAAQ,CAACG,IAAT,CAAcE,CAAd,EAAiBQ,aAAjB,CAA+B,CAA/B,CAHM,CAAb,EAKD,CAEDZ,OAAO,CAACC,GAAR,CAAY,uBAAZ,CAAqCE,OAArC,EAEAP,QAAQ,CAAC,CACPC,IAAI,CAAEJ,qBADC,CAEPoB,OAAO,CAAEV,OAFF,CAAD,CAAR,CApBiC,iFAyBjCP,QAAQ,CAAC,CACPC,IAAI,CAAEH,mBADC,CAAD,CAAR,CAzBiC,qEAAN,gEAAxB","sourcesContent":["import axios from 'axios';\n\nimport {\n  FETCH_ROCKETS_PENDING,\n  FETCH_ROCKETS_SUCCESS,\n  FETCH_ROCKETS_ERROR,\n} from '../types';\n\nexport const fetchAllRockets = () => async (dispatch) => {\n  try {\n    dispatch({\n      type: FETCH_ROCKETS_PENDING,\n    });\n\n    const response = await axios.get('https://api.spacexdata.com/v3/rockets');\n    console.log('Rocket api call: ', response.data);\n\n    const rockets = [];\n    for (let i = 0; i < response.data.length; i++) {\n      rockets.push({\n        name: response.data[i].rocket_name,\n        id: response.data[i].rocket_id,\n        img: response.data[i].flickr_images[0],\n      });\n    }\n\n    console.log('Formatted rocket data', rockets);\n\n    dispatch({\n      type: FETCH_ROCKETS_SUCCESS,\n      payload: rockets,\n    });\n  } catch (e) {\n    dispatch({\n      type: FETCH_ROCKETS_ERROR,\n    });\n  }\n};\n"]},"metadata":{},"sourceType":"module"}